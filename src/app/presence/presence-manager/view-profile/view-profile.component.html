<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-vcentered">
        <div class="column is-1">
          <img
            src="https://www.roblox.com/headshot-thumbnail/image?userId={{clientUserId}}&width=100&height=100&format=png"
            alt="" class="is-rounded">
        </div>
        <div class="column">
          <h1 class="title is-size-4">{{ clientuserName }}</h1>
          <h1 class="subtitle is-size-5">Viewing profile</h1>
        </div>
      </div>
    </div>
  </div>
</section>
<img src="../../../../assets/spinner.svg" *ngIf="loading" alt="Loading" width="100px"
  style="margin: auto; display: block;">
<p *ngIf="loading" class="has-text-centered">Hang tight!</p>

<div class="spacer"></div>

<div [class.is-hidden]="loading" class="container">
  <h1 class="title is-size-4">Overview</h1>
  <h1 class="subtitle is-size-5 has-text-lighter-has-text-grey-light">Showing tokens since the beginning of time
  </h1>
  <hr class="darker">

  <div class="columns">
    <div class="column has-text-centered">
      <canvas id="sessionTimes"></canvas>
      <br>
      <h1 class="title is-family-primary has-text-weight-normal is-size-6 has-text-grey-light">Sessions attended
      </h1>
      <h1 class="subtitle is-family-primary has-text-weight-normal is-size-4">Times</h1>
    </div>
    <div class="column has-text-centered">
      <canvas id="sessionTypes"></canvas>
      <br>
      <h1 class="title is-family-primary has-text-weight-normal is-size-6 has-text-grey-light">Sessions attended
      </h1>
      <h1 class="subtitle is-family-primary has-text-weight-normal is-size-4">Type</h1>
    </div>
    <div class="column has-text-centered">
      <canvas id="sessionDays"></canvas>
      <br>
      <h1 class="title is-family-primary has-text-weight-normal is-size-6 has-text-grey-light">Sessions attended
      </h1>
      <h1 class="subtitle is-family-primary has-text-weight-normal is-size-4">Days</h1>
    </div>
  </div>

  <hr class="darker">
  <div class="columns">
    <div class="column">
      <div class="box has-text-centered">
        <p class="is-size-5">Tokens</p>
        <p class="is-size-4">{{ tokens }}</p>
      </div>
    </div>
    <div class="column">
      <div class="box has-text-centered">
        <p class="is-size-5">Activity</p>
        <p class="is-size-4">{{ activity }}<small>/3</small></p>
      </div>
    </div>
    <div class="column">
      <div class="box has-text-centered">
        <p class="is-size-5">Warnings</p>
        <p class="is-size-4">{{ warnings }}<small>/{{ warningsAllowed }}</small></p>
      </div>
    </div>
    <div class="column">
      <div class="box has-text-centered">
        <p class="is-size-5">Attended</p>
        <p class="is-size-4">{{ attended }}</p>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column">

      <div class="box">
        <h1 class="title is-size-5">Performance</h1>

        <canvas id="inactivity"></canvas>
        <br>
        <h1 class="title is-family-primary has-text-weight-normal is-size-6 has-text-grey-light has-text-centered">
          {{ inactiveType }}ly
        </h1>
        <h1 class="subtitle is-family-primary has-text-weight-normal is-size-4 has-text-centered">Inactive</h1>

        <hr class="darker">

        <h1 class="title is-size-5">This week</h1>
        <div class="box">
          <h1 class="title is size-4 has-text-centered">{{ sessionsWeek }}</h1>
          <h1 class="subtitle is size-5 has-text-centered">Sessions attended this week</h1>
        </div>

        <div class="box">
          <h1 class="title is size-4 has-text-centered">{{ tokensWeek }}</h1>
          <h1 class="subtitle is size-5 has-text-centered">Tokens this week</h1>
        </div>
      </div>
    </div>
    <div class="column">
      <div class="box">
        <h1 class="title is-size-5">Latest Transactions</h1>
        <div *ngFor="let transaction of transactionLog; let i=index">
          <div *ngIf="i<5">
            <p>{{ transaction }}</p>
            <hr class="darker" *ngIf="i<4">
          </div>
        </div>
      </div>

      <div class="box">
        <h1 class="title is-size-5">Warnings and infractions</h1>
        <p *ngIf="warnings < 1">You have no warnings or infractions</p>

        <div *ngIf="warnings >= 1">
          <hr>
          <h1 class="title is-size-5">Warning 1</h1>
          <h1 class="subtitle is-size-6">Issued by: {{ warning1?.issuer }} | {{ momentWarning1 }}</h1>
          <p>{{ warning1?.reason }}</p>
          <hr>
        </div>

        <div *ngIf="warnings >= 2">
          <hr>
          <h1 class="title is-size-5">Warning 2</h1>
          <h1 class="subtitle is-size-6">Issued by: {{ warning2?.issuer }} | {{ momentWarning2 }}</h1>
          <p>{{ warning2?.reason }}</p>
          <hr>
        </div>

        <div *ngIf="warnings >= 3">
          <hr>
          <h1 class="title is-size-5">Warning 3</h1>
          <h1 class="subtitle is-size-6">Issued by: {{ warning3?.issuer }} | {{ momentWarning3 }}</h1>
          <p>{{ warning3?.reason }}</p>
          <hr>
        </div>

        <div *ngIf="warnings >= 4">
          <hr>
          <h1 class="title is-size-5">Warning 4</h1>
          <h1 class="subtitle is-size-6">Issued by: {{ warning4?.issuer }} | {{ momentWarning4 }}</h1>
          <p>{{ warning4?.reason }}</p>
          <hr>
        </div>

        <div *ngIf="warnings === 5">
          <hr>
          <h1 class="title is-size-5">Warning 5</h1>
          <h1 class="subtitle is-size-6">Issued by: {{ warning5?.issuer }} | {{ momentWarning5 }}</h1>
          <p>{{ warning5?.reason }}</p>
          <hr>
        </div>
      </div>

      <div class="box">
        <h1 class="title is-size-5">Overall team performance</h1>
        <canvas id="staffPerformance"></canvas>
      </div>

      <div class="box">
        <h1 class="title is-size-5">Moderator Settings</h1>
        <h1 class="subtitle is-size-6">Only moderators can see this section</h1>
        <hr class="darker">
        <h1 class="title is-size-5">Edit Tokens</h1>
        <table class="table is-striped is-bordered">
          <thead>
            <tr>
              <th>Current tokens</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ tokens }}</td>
            </tr>
          </tbody>
        </table>

        <div class="field has-addons">
          <div class="control">
            <input type="number" class="input" placeholder="30" min="1" id="tokenAmount">
          </div>
        </div>
        <a class="button is-success" style="margin-right: 5px;" (click)="addTokens()">Add</a>
        <a class="button is-danger" style="margin-right: 5px;" (click)="removeTokens()">Remove</a>
        <a class="button is-dark" style="margin-right: 5px;" (click)="setTokens()">Set</a>
        <a class="button" (click)="resetTokens()">Reset</a>
        <p id="statusTextDigiTokensEdit" class="has-text-weight-bold"></p>
        <hr class="darker">
        <h1 class="title is-size-5">Edit Attendance</h1>
        <table class="table is-striped is-bordered">
          <thead>
            <tr>
              <th>Current tokens</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ tokens }}</td>
            </tr>
          </tbody>
        </table>

        <div class="field has-addons">
          <div class="control">
            <input type="number" class="input" placeholder="30" min="1" id="tokenAmount">
          </div>
        </div>
        <a class="button is-success" style="margin-right: 5px;" (click)="addTokens()">Add</a>
        <a class="button is-danger" style="margin-right: 5px;" (click)="removeTokens()">Remove</a>
        <a class="button is-dark" style="margin-right: 5px;" (click)="setTokens()">Set</a>
        <a class="button" (click)="resetTokens()">Reset</a>
        <p id="statusTextDigiTokensEdit" class="has-text-weight-bold"></p>

        <hr class="darker">
        <h1 class="title is-size-5">Delete Data</h1>
        <p class="subtitle is-size-6">For security, this request is routed to us for approval.</p>
        <a class="button is-danger" (click)="resetTokens()">Delete data</a>
      </div>
    </div>
  </div>
</div>
